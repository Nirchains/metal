{% extends "templates/basic.html" %}

{% block content %}

<script type="text-javascript">
// hard won knowledge from http://stackoverflow.com/questions/20035615/using-raw-image-data-from-ajax-request-for-data-uri
var xmlHTTP = xhr.XMLHttpRequest();
xmlHTTP.open('GET', "http://erpnext/barcode?code=asdf", true);
xmlHTTP.responseType = 'arraybuffer';
xmlHTTP.onload = function(e) {
  var arr = new Uint8Array(this.response);
  var raw = String.fromCharCode.apply(null,arr);
  var b64 = base64.encode(raw);
  var dataURL="data:image/png;base64," + b64;
};
xmlHTTP.send();

</script>

{% endblock %}